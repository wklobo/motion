#
# This config file was generated by motion 4.1.1
# Documentation:  /usr/share/doc/motion/motion_guide.html
#
# This file contains only the basic configuration options to get a
# system working.  There are many more options available.  Please
# consult the documentation for the complete list of all options.
#
#
# Kamera 1
# ========
#
# Speicherort:    /home/pi/motion/motion_kam1.conf
# Documentation:  /usr/share/doc022-04-01/motion/motion_guide.html
# Last change:    2022-04-10 - 11:59:33 -- wkh


############################################################
# System control configuration parameters
############################################################

# Start in daemon (background) mode and release terminal.
daemon on

# Start in Setup-Mode, daemon disabled.
setup_mode off

# File to store the process ID.
process_id_file /home/pi/motion/aux/motion_kam1.pid

# File to write logs messages into.  If not defined stderr and syslog is used.
logfile /home/pi/motion/aux/motion_kam1.log

# Level of log messages [1..9] (EMG, ALR, CRT, ERR, WRN, NTC, INF, DBG, ALL).
log_level 6

# Filter to log messages by type (COR, STR, ENC, NET, DBL, EVT, TRK, VID, ALL). (default: ALL)
log_type all

# Target directory for pictures, snapshots and movies
target_dir /home/pi/motion/pix

# Video device (e.g. /dev/video0) to be used for capturing.
videodevice /dev/video0

# Parameters to control video device.  See motion_guide.html
#v4l2_control_params  hue=130,brightness=160,"Auto Exposure"=1, ID009a0914=3
# -- Standardwerte für Raspi-Kamera
v4l2_palette 17
;input 0
#hue=130
#brightness=160

# The full URL of the network camera stream.
; netcam_url value

# v4l2_palette allows one to choose preferable palette to be use by motion
# See motion_guide.html for the valid options and values.  (default: 17)
v4l2_palette 17

# Camera control parameters (see raspivid/raspistill tool documentation)
; mmalcam_control_params value

# The video input to be used (default: -1)
# Should normally be set to 0 or 1 for video/TV cards, and -1 for USB cameras
# Set to 0 for uvideo(4) on OpenBSD
input -1

# The video norm to use (only for video capture and TV tuner cards)
# Values: 0 (PAL), 1 (NTSC), 2 (SECAM), 3 (PAL NC no colour). Default: 0 (PAL)
norm 0

# Maximum number of frames to be captured per second.
# Valid range: 2-100. Default: 100 (almost no limit).
framerate 4

############################################################
# Image Processing configuration parameters
############################################################

# Image width in pixels.
width 960

# Image height in pixels.
height 720

# Maximum number of frames to be captured per second.
;framerate 5

# Text to be overlayed in the lower left corner of images
text_left VOGELNEST

# Text to be overlayed in the lower right corner of images.
text_right %Y-%m-%d\n%T-%q

# Draw characters at twice normal size on images.
text_double on
#text_scale 4

############################################################
# Motion detection configuration parameters
############################################################

# Always save pictures and movies even if there was no motion.
emulate_motion off

# Threshold for number of changed pixels that triggers motion.
threshold 20800

# Noise threshold for the motion detection.
noise_level 32

# Despeckle the image using (E/e)rode or (D/d)ilate or (l)abel.
despeckle_filter EedDl

# Number of images that must contain motion to trigger an event.
minimum_motion_frames 4

# Gap in seconds of no motion detected that triggers the end of an event.
event_gap 2

# The number of pre-captured (buffered) pictures from before motion.
pre_capture 3

# Number of frames to capture after motion is no longer detected.
post_capture 2

############################################################
# Script execution configuration parameters
############################################################

snapshot_interval 120

# File path for snapshots (jpeg, ppm or webp) relative to target_dir
# Default: %v-%Y%m%d%H%M%S-snapshot
# Default value is equivalent to legacy oldlayout option
# For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-snapshot
# File extension .jpg, .ppm or .webp is automatically added so do not include this.
# Note: A symbolic link called lastsnap.jpg created in the target_dir will always
# point to the latest snapshot, unless snapshot_filename is exactly 'lastsnap'
; snapshot_filename %v-%Y%m%d_%H%M%S-snapshot
# -- um Watchdog-Überwachung zu ermöglichen
snapshot_filename "lastsnap"

# Command to be executed when an event starts.
; on_event_start value
on_event_start  "/home/pi/motion/Pin/Pin 16 0   >                          /home/pi/motion/aux/lastPin_in"

# Command to be executed when an event ends.
; on_event_end value
on_event_end  "/home/pi/motion/Sql/SqlMotion  /home/pi/motion/pix/*    >   /home/pi/motion/aux/lastEvent"

# Command to be executed when a movie file is closed.
; on_movie_end value
on_movie_end  "/home/pi/motion/Pin/Pin 16 1     >                          /home/pi/motion/aux/lastPin_out"


############################################################
# Picture output configuration parameters
############################################################

# Output pictures when motion is detected
output_pictures on
; picture_output on


# File name(without extension) for pictures relative to target directory
picture_filename %v-%Y%m%d%_H%M%S-%q

############################################################
# Movie output configuration parameters
############################################################

# Create movies of motion events.
;movie_output on
ffmpeg_output_movies on

# Maximum length of movie in seconds.
;movie_max_time 60
max_movie_time 120

# The encoding quality of the movie. (0=use bitrate. 1=worst quality, 100=best)
; movie_quality 75
ffmpeg_variable_bitrate  80

# Container/Codec to used for the movie. See motion_guide.html
; movie_codec mkv
ffmpeg_video_codec mkv

# File name(without extension) for movies relative to target directory
movie_filename %v-%Y%m%d%_H%M%S

############################################################
# Webcontrol configuration parameters
############################################################
# Port number used for the webcontrol.
; webcontrol_port 8080

# Restrict webcontrol connections to the localhost.
; webcontrol_localhost off

# Type of configuration options to allow via the webcontrol.
; webcontrol_parms 0

############################################################
# Live stream configuration parameters
############################################################

# The port number for the live stream.
stream_port 2401

# Restrict stream connections to the localhost.
stream_localhost off

# Ohne Bewegung nur 1 Bilder pro Sekunde (Livestream)
stream_motion on

# Max. Bilder pro Sekunde (Livestream)
stream_maxrate 10

##############################################################
# Camera config files - One for each camera.
##############################################################
#; camera /home/pi/motion/kamera1.conf
#; camera /usr/etc/motion/camera2.conf
#; camera /usr/etc/motion/camera3.conf
#; camera /usr/etc/motion/camera4.conf

##############################################################
# Directory to read '.conf' files for cameras.
##############################################################
; camera_dir /usr/etc/motion/conf.d
